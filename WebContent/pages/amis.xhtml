<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:a4j="http://richfaces.org/a4j"
	  xmlns:rich="http://richfaces.org/rich"> 
      
<ui:composition template="/templates/standard.xhtml">
		
	<ui:define name="pageTitle">Amis</ui:define>
	<ui:define name="content">
		<section class="group1">
			<h3>Amis</h3>
			<h:form>
				<h:outputLabel value="Recherche : " />
				<h:inputText value="#{beanAmis.recherche}" />
				<h:commandButton value="Recherche" action="#{beanAmis.rechercher}" />
			</h:form>
						
			<br />
			<br />
			<br />
						
		    <rich:panel>
		        <f:facet name="header">
		            <h:outputText value="Liste utilisateur"></h:outputText>
		        </f:facet>
		        
		        <h:form>
		            <rich:dataGrid value="#{beanAmis.resultats}" var="utilisateur"
		                columns="4" elements="15" border="0">
		                <rich:panel>
		                    <f:facet name="header">
		                        <h:outputText value="#{utilisateur.adrMail}"></h:outputText>
		                    </f:facet>
		                    <h:panelGrid columns="2">
		                        <h:outputText value="#{utilisateur.avatar}" />
		                        <br />
		                        	
		                        <h:commandButton value="Ajouter" action="#{beanAmis.ajouterAmis}"/>
		                    </h:panelGrid>
		                </rich:panel>
		                <f:facet name="footer">
		                    <rich:dataScroller />
		                </f:facet>
		            </rich:dataGrid>
		            
		        </h:form>
		    </rich:panel>
		    
			<br />
			<br />
			<br />
			
			<h:form>
				<h:outputLabel value="Ajouter un ami : " />
				<h:commandButton value="Afficher mes amis :" action="#{beanAmis.chargerAmis}" />
			</h:form>
			
			<br />
			<br />			
					    
		    <rich:panel>
		        <f:facet name="header">
		            <h:outputText value="Mes amis"></h:outputText>
		        </f:facet>
		        
		        <h:form>
		            <rich:dataGrid value="#{beanAmis.amis}" var="amis"
		                columns="3" elements="9" width="600px" border="0">
		                <rich:panel>
		                    <f:facet name="header">
		                        <h:outputText value="#{amis.ami.adrMail}"></h:outputText>
		                    </f:facet>
		                    <h:panelGrid columns="2">                   		
		                        <h:outputText value="#{amis.ami.avatar}" />
		                        <br />
		                        <h:commandButton value="Profil"/>
		                    </h:panelGrid>
		                </rich:panel>
		                <f:facet name="footer">
		                    <rich:dataScroller />
		                </f:facet>
		            </rich:dataGrid>
		            
		        </h:form>
		    </rich:panel>		    
    					
		</section>
	</ui:define>
</ui:composition> 
</html>
 