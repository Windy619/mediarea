<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:a4j="http://richfaces.org/a4j"
	  xmlns:rich="http://richfaces.org/rich"> 
      
<ui:composition template="/templates/standard.xhtml">
		
	<ui:define name="pageTitle">Messages Prives</ui:define>
	<ui:define name="content">
		<section class="group1">
		<h1> Messages Prives</h1>
			    	
		<br />
			
		<h:form>
			<h:commandButton value="Nouveau Message" />
		</h:form>			
		
		<br />
		
		<rich:dataTable value="#{beanMessagesPrives.correspondances}" var="utilisateur" >
			<f:facet name="header">
				<h:outputText value="Liste des discussions" />
			</f:facet>
			<rich:column>
				<f:facet name="header">
					<h:outputText value="Discussion avec" />
				</f:facet>
				
				<center>
					<h:outputText value="#{utilisateur.pseudo}" />
					<br />
					<h:graphicImage value="#{utilisateur.avatar.nomAvatar}" />
				</center>

			</rich:column>
			
			<rich:column>
				<f:facet name="header">
					<h:outputText value="Afficher la discussion" />
				</f:facet>
				<h:form>
					<h:commandButton action="#{beanMessagesPrives.chargerDiscussion}" value="Acceder Ã  la conversation" />
				</h:form>
			</rich:column>			
		</rich:dataTable>
		
		</section>
	
	</ui:define>
</ui:composition> 
</html>
 